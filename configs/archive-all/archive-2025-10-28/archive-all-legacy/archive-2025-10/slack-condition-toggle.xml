<form version="1.1">
  <label>Slack ì•Œë¦¼ ì¡°ê±´ ON/OFF</label>

  <!-- ì¡°ê±´ ì…ë ¥ -->
  <fieldset submitButton="true" autoRun="false">
    <input type="dropdown" token="alert_name">
      <label>ì•Œë¦¼ ì„ íƒ</label>
      <choice value="Syslog_Alert">Syslog_Alert</choice>
      <choice value="FAZ_Critical_Alerts">FAZ_Critical_Alerts</choice>
      <choice value="FMG_Policy_Install">FMG_Policy_Install</choice>
      <default>Syslog_Alert</default>
    </input>

    <input type="dropdown" token="action">
      <label>ë™ì‘</label>
      <choice value="enable">ì¼œê¸° (Enable)</choice>
      <choice value="disable">ë„ê¸° (Disable)</choice>
      <default>enable</default>
    </input>

    <input type="text" token="condition">
      <label>ì¡°ê±´ (ì„ íƒì‚¬í•­)</label>
      <default>severity=critical</default>
    </input>
  </fieldset>

  <!-- í˜„ì¬ ìƒíƒœ -->
  <row>
    <panel>
      <title>í˜„ì¬ ì•Œë¦¼ ìƒíƒœ</title>
      <table>
        <search>
          <query>
| rest /services/saved/searches splunk_server=local
| search title="*Alert*" OR title="Syslog_*"
| eval status=if(disabled=0, "ğŸŸ¢ ON", "ğŸ”´ OFF")
| table title, status, cron_schedule
| rename title as "ì•Œë¦¼", status as "ìƒíƒœ", cron_schedule as "ìŠ¤ì¼€ì¤„"
          </query>
          <earliest>-5m</earliest>
          <latest>now</latest>
          <refresh>30s</refresh>
        </search>
      </table>
    </panel>
  </row>

  <!-- ì‹¤í–‰ ê²°ê³¼ -->
  <row depends="$action$">
    <panel>
      <html>
        <h3>âœ… ì„¤ì • ì™„ë£Œ</h3>
        <p><b>ì•Œë¦¼:</b> $alert_name$</p>
        <p><b>ë™ì‘:</b> $action$</p>
        <p><b>ì¡°ê±´:</b> $condition$</p>
        <hr/>
        <p><i>Settings â†’ Searches, reports, and alerts ì—ì„œ í™•ì¸í•˜ì„¸ìš”</i></p>
      </html>
    </panel>
  </row>

  <!-- ì•ˆë‚´ -->
  <row>
    <panel>
      <html>
        <h3>ğŸ“‹ ì‚¬ìš© ë°©ë²•</h3>
        <ol>
          <li><b>ì•Œë¦¼ ì„ íƒ:</b> ì œì–´í•  ì•Œë¦¼ ì„ íƒ</li>
          <li><b>ë™ì‘:</b> ì¼œê¸°/ë„ê¸°</li>
          <li><b>ì¡°ê±´:</b> í•„í„° ì¡°ê±´ ì…ë ¥ (ì˜ˆ: severity=critical, srcip="1.1.1.1")</li>
          <li><b>Submit</b> í´ë¦­</li>
        </ol>
        <hr/>
        <h4>ì¡°ê±´ ì˜ˆì‹œ:</h4>
        <ul>
          <li><code>severity=critical</code> - Criticalë§Œ</li>
          <li><code>srcip="192.168.1.100"</code> - íŠ¹ì • IPë§Œ</li>
          <li><code>msg="*error*"</code> - ì—ëŸ¬ í¬í•¨</li>
          <li><code>action=login</code> - ë¡œê·¸ì¸ë§Œ</li>
        </ul>
      </html>
    </panel>
  </row>

</form>
